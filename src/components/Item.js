import {ImageBackground, Text, TouchableOpacity, View} from "react-native";import styles from "../../assets/styles";import {Icon} from "native-base";import COLORS from "../consts/colors";import React, {useEffect, useState} from "react";import { useDispatch, useSelector } from 'react-redux'import {setFav} from '../actions';import * as Animatable from "react-native-animatable";function Item({ name , image , rate , index , price, id, isFav, navigation, item }) {	const token    			= useSelector(state => state.auth.user ? state.auth.user.data.token : null);	const lang     			= useSelector(state => state.lang.lang);	const [fav, setItemFav]	= useState(isFav);	const dispatch 	        = useDispatch();	function onFav(id) {		setItemFav(!fav);		dispatch(setFav(lang, id, token))	}	useEffect(() => {		const unsubscribe = navigation.addListener('focus', () => {			setTimeout(() => setItemFav(isFav), 10);			setTimeout(() => console.log('damn isFav ______' , id, isFav, fav), 200);		});		return unsubscribe;	}, [navigation , item]);	console.log('damn isFav ' , id, isFav);	//	// if (isFav != fav)	// 	setItemFav(isFav)	return (		<Animatable.View animation="fadeInUp" easing="ease-out" delay={700} style={{width: '47%', margin: 5}}>			<TouchableOpacity style={{ borderRadius: 10, height: 170,overflow: 'hidden',}} onPress={() => navigation.navigate('serviceDetails', { item, fav })}>				<ImageBackground source={{uri: image}} resizeMode={'cover'} style={{ height: 170, width: '100%', borderRadius: 10 }}>					<View style={[styles.overlay_black , styles.Width_100, { zIndex: 0, height: 200, position: 'absolute' }]} />					{						token ?							<TouchableOpacity onPress={() => onFav(id)} style={{ alignSelf: "flex-end", padding: 10 }} >								<Icon type={'AntDesign'} name={ fav ? 'heart' : 'hearto'} style={{ color: COLORS.orange, fontSize: 20 }} />							</TouchableOpacity> : null					}					<View style={{ bottom: 0, position: 'absolute', height: 60, paddingHorizontal: 10 }}>						<Text style={[ styles.textBold, styles.text_White, styles.textSize_16, styles._alignText, styles.Width_100 ]}>{ (name).substr(0, 18) + '...' }</Text>						<Text style={[ styles.textBold, styles.text_orange, styles._alignText, styles.textRight ]}>{ price } </Text>					</View>				</ImageBackground>			</TouchableOpacity>		</Animatable.View>	);}export default Item;